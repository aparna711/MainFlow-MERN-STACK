<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch only name and email </title>
    <%- include('include/bootstrap_header') %>
</head>
<body>
<%- include('include/navbar') %>
 <% if(users && users.length > 0){ console.log(users) %>

    <table class="table table-striped table-light ">
    <thead>
    <tr>
      <th scope="col">Sr No.</th>
      <th scope="col">Username</th>
      <th scope="col">Email Id</th>
    </tr>
  </thead>
 
  <tbody>
    
      
    <% users.forEach((user, index) => { %>
      <tr>
        <th scope="row"><%= index + 1 %></th>
        <td><%= user.username %></td>
        <td><%= user.email %></td>
      </tr>
    <% }) %>
    <% } else { %>
      <!-- If no users are found, display a message -->
      <div class="alert alert-danger" role="alert">
         No users found!
      </div>
     <% } %> 

    

</tbody>
    </table>

<%- include('include/bootstrap_footer')  %>
</body>
</html>