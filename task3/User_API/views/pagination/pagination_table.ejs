
<div class="container mt-5">
  <h2 class="mb-4">User List</h2>

  <% if (users.length > 0) { %>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Sr No.</th>
        <th>User ID</th>
        <th>Username</th>
        <th>Email</th>
        <th>Age</th>
        <th>Role</th>
      </tr>
    </thead>
    <tbody>
      <% users.forEach((user, index) => { %>
        <tr>
          <td><%= (currentPage - 1) * 5 + index + 1 %></td>
          <td><%= user._id %></td>
          <td><%= user.username %></td>
          <td><%= user.email %></td>
          <td><%= user.age %></td>
          <td><%= user.role %></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
  <% } else { %>
    <div class="alert alert-warning">No users found!</div>
  <% } %>

  <!-- Pagination -->
  <nav aria-label="User Page Navigation">
    <ul class="pagination justify-content-center">
      <% if (currentPage > 1) { %>
        <li class="page-item">
          <a class="page-link" href="/users?page=<%= currentPage - 1 %>">Previous</a>
        </li>
      <% } else { %>
        <li class="page-item disabled">
          <span class="page-link">Previous</span>
        </li>
      <% } %>

      <% for (let i = 1; i <= totalPages; i++) { %>
        <li class="page-item <%= i === currentPage ? 'active' : '' %>">
          <a class="page-link" href="/users?page=<%= i %>"><%= i %></a>
        </li>
      <% } %>

      <% if (currentPage < totalPages) { %>
        <li class="page-item">
          <a class="page-link" href="/users?page=<%= currentPage + 1 %>">Next</a>
        </li>
      <% } else { %>
        <li class="page-item disabled">
          <span class="page-link">Next</span>
        </li>
      <% } %>
    </ul>
  </nav>
</div>